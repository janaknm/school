Script started on Thu May 17 22:49:24 2012
[?1034hbash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

SysExitTest running.

About to terminate the only process; should cause the OS to stop on a 'wait' instruction.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 3155572
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 3166943
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

BasicForkTest running.

I am the child
I am the parent

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 3331987
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 3343358
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

YieldTest running.

This test involves calls to Fork, Yield, and Exit.

RUN ONE: You should see 10 'compiler' messages and 10 'OS' messages.

Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!

RUN TWO: You should see the same 20 messages, but the order should be different, due to the presence of 'Yield's.

Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!
Writing OS kernel code is a blast!
Designing compilers is fun!
Writing OS kernel code is a blast!
Designing compilers is fun!
Writing OS kernel code is a blast!
Designing compilers is fun!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Designing compilers is fun!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Writing OS kernel code is a blast!
Designing compilers is fun!
Designing compilers is fun!
Designing compilers is fun!

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 3803729
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 3815100
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

ForkTest running.

This test involves calls to Fork, Yield, and Exit.
There should be 26 columns (A-Z) printed.  Each letter should be printed 5 times.
A
 B
  C
   D
    E
     F
      G
       H
        I
 B
  C
    E
   D
     F
      G
       H
A
        I
 B
  C
    E
   D
      G
     F
       H
        I
A
 B
  C
   D
    E
     F
      G
       H
        I
A
 B
   D
  C
    E
      G
     F
       H
        I
A
         J
          K
           L
            M
             N
              O
               P
                Q
         J
          K
           L
            M
             N
              O
               P
                Q
         J
          K
             N
           L
            M
              O
               P
                Q
                 R
                 R
         J
             N
           L
          K
            M
                Q
               P
              O
                 R
         J
          K
             N
           L
            M
                Q
              O
               P
                 R
                  S
                   T
                    U
                     V
                      W
                       X
                        Y
                         Z
                  S
                   T
                     V
                    U
                      W
                       X
                        Y
                         Z
                 R
                  S
                   T
                    U
                     V
                      W
                       X
                        Y
                         Z
                   T
                  S
                    U
                     V
                      W
                       X
                        Y
                         Z
                   T
                    U
                     V
                      W
                       X
                  S
                        Y
                         Z

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 43113586
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 43124957
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

JoinTest 1 running.

This test involves calls to Fork, Yield, and Exit.
Running first test...
This line should print first.
This line should print second.
Done.
Running second test...
This line should print first.
This line should print second.
Done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 4133268
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 4144639
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

JoinTest 2 running.

This test involves calls to Fork, Yield, and Exit.
Creating 5 children...
Child 1 running...
Child 3 running...
Child 2 running...
Child 4 running...
Child 5 running...
Waiting for children in order 1, 2, 3, 4, 5...
Creating 5 more children...
Child 2 running...
Child 1 running...
Child 3 running...
Child 4 running...
Child 5 running...
Waiting for children in order 5, 4, 1, 3, 2...
Done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 4933208
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 4944579
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

JoinTest3 running.

This test involves 5 illegal calls to Sys_Join, waiting on non-existent children.
In each case, it prints the return code, which should be -1.
Return code from 1st call = -1
Return code from 2nd call = -1
Return code from 3rd call = -1
Return code from 4th call = -1
Return code from 5th call = -1
Done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 3162401
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 3173772
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

JoinTest4 running.

   This test forks a child process and then waits on it twice.
   The first call to Sys_Join should return its error code; the
   second call to Sys_Join should return -1.

The PID of the child = 2
This should print first.
This should print second.
Okay (1).
Okay (2).
This should print first.
The PID of the child = 3
This should print second.
Okay (3).
Okay (4).

   In the next test, we create 2 children, and each creates 2 children,
   giving 7 processes in all.  Then each process attempts a Sys_Join on
   every process except its own children, to make sure the result is -1.
   Finally, each process with children waits on them.

A.B.D is running...
---------------
A is running...
  My first  child is A.B   pid1 = 4
  My second child is A.C   pid2 = 6
---------------
A.B.E is running...
---------------
A.B is running...
  My first  child is A.B.D   pid1 = 5
  My second child is A.B.E   pid2 = 7
---------------
A.C.F is running...
---------------
A.C.G is running...
---------------
A.C is running...
  My first  child is A.C.F   pid1 = 8
  My second child is A.C.G   pid2 = 9
---------------
A done with error tests...
A.B.E done with error tests...
A.B done with error tests...
A.C.F done with error tests...
A.C done with error tests...
A.C.G done with error tests...
A.B.D done with error tests...
-----------------------------------A is waiting on A.B     pid1 = 4
-----------------------------------A.B is waiting on A.B.D     pid1 = 5
-----------------------------------A.C is waiting on A.C.F     pid1 = 8
A.B.E is done.
A.C.F is done.
-----------------------------------A.C is waiting on A.C.G     pid2 = 9
A.C.G is done.
A.C is done.
A.B.D is done.
-----------------------------------A.B is waiting on A.B.E     pid2 = 7
A.B is done.
-----------------------------------A is waiting on A.C     pid2 = 6
A is done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 17757121
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 17768492
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

ManyProcessesTest1 running.

This test should create 100 child processes.
It should print 100 lines of output.
Child 1
Child 2
Child 3
Child 4
Child 5
Child 6
Child 7
Child 8
Child 9
Child 10
Child 11
Child 12
Child 13
Child 14
Child 15
Child 16
Child 17
Child 18
Child 19
Child 20
Child 21
Child 22
Child 23
Child 24
Child 25
Child 26
Child 27
Child 28
Child 29
Child 30
Child 31
Child 32
Child 33
Child 34
Child 35
Child 36
Child 37
Child 38
Child 39
Child 40
Child 41
Child 42
Child 43
Child 44
Child 45
Child 46
Child 47
Child 48
Child 49
Child 50
Child 51
Child 52
Child 53
Child 54
Child 55
Child 56
Child 57
Child 58
Child 59
Child 60
Child 61
Child 62
Child 63
Child 64
Child 65
Child 66
Child 67
Child 68
Child 69
Child 70
Child 71
Child 72
Child 73
Child 74
Child 75
Child 76
Child 77
Child 78
Child 79
Child 80
Child 81
Child 82
Child 83
Child 84
Child 85
Child 86
Child 87
Child 88
Child 89
Child 90
Child 91
Child 92
Child 93
Child 94
Child 95
Child 96
Child 97
Child 98
Child 99
Child 100
Done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 20523376
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 20534747
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

ManyProcessesTest2 running.

This test attempts to create 9 new processes.
It should print a line for each process and then it should print 123.
Process 0
Process 1
Process 2
Process 3
Process 4
Process 5
Process 6
Process 7
Process 8
Process 9
Final return value = 123
Done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 4846272
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 4857643
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

ManyProcessesTest3 running.

This test attempts to create 10 new processes.
It should run out of resources and hang.
Process 0
Process 1
Process 2
Process 3
Process 4
Process 5
Process 6
Process 7
Process 8
Process 9

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 4644764
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 4656135
bash-3.2$ make && blitz -g os
kpl TestProgram3 -unsafe
asm TestProgram3.s
lddd UserRuntime.o UserSystem.o TestProgram3.o -o TestProgram3
diskUtil -i
diskUtil -a MyProgram MyProgram
diskUtil -a TestProgram1 TestProgram1
diskUtil -a TestProgram2 TestProgram2
diskUtil -a TestProgram3 TestProgram3
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...

ErrorTest running.

Should print "User Program Error: Attempt to use a null pointer!"...

User Program Error: Attempt to use a null pointer!  Type 'st' to see stack.

Okay.

Should print "An AddressException exception has occured while in user mode"...

**********  An AddressException exception has occured while in user mode  **********

Offending process: "First Process" (PID 3)

  ProcessControlBlock   (addr=0x000294C8)   pid=3, status=ACTIVE, parentsPid=1, exitStatus=0
        addr        entry          Logical    Physical   Undefined Bits  Dirty  Referenced  Writeable  Valid
     ==========   ==========     ==========  ==========  ==============  =====  ==========  =========  =====
     0x000294F4:  0x00154005     0x00000000  0x00154000                            YES                  YES
     0x000294F8:  0x00158001     0x00002000  0x00158000                                                 YES
     0x000294FC:  0x0015C001     0x00004000  0x0015C000                                                 YES
     0x00029500:  0x00160001     0x00006000  0x00160000                                                 YES
     0x00029504:  0x00164005     0x00008000  0x00164000                            YES                  YES
     0x00029508:  0x00168003     0x0000A000  0x00168000                                        YES      YES
     0x0002950C:  0x0016C003     0x0000C000  0x0016C000                                        YES      YES
     0x00029510:  0x00170003     0x0000E000  0x00170000                                        YES      YES
     0x00029514:  0x00174003     0x00010000  0x00174000                                        YES      YES
     0x00029518:  0x0017800F     0x00012000  0x00178000                   YES      YES         YES      YES
    myThread =   Thread "First Process"    status=RUNNING    (addr of Thread object: 0x0002B97C)

  Thread "First Process"    (addr of Thread object: 0x0002B97C)
    machine state:
      r2: 0x00029940   170304
      r3: 0x00000004   4
      r4: 0x00000000   0
      r5: 0x00000000   0
      r6: 0x00000000   0
      r7: 0x00000000   0
      r8: 0x00000000   0
      r9: 0x00000000   0
      r10: 0x00004345   17221
      r11: 0x00000000   0
      r12: 0x00000000   0
      r13: 0x00000050   80
      r14: 0x0002C89C   182428
    stackTop = 0x0002C840
    stack starting addr = 0x0002B9D8
    status = RUNNING
    is user thread: TRUE
    user registers:
      r1: 0x00000000   0
      r2: 0x00000000   0
      r3: 0x00000000   0
      r4: 0x00000000   0
      r5: 0x00000004   4
      r6: 0x00000000   0
      r7: 0x00000000   0
      r8: 0x00000000   0
      r9: 0x00000000   0
      r10: 0x00004345   17221
      r11: 0x00000000   0
      r12: 0x00000000   0
      r13: 0x0000003A   58
      r14: 0x00013FA0   81824
      r15: 0x00013F7C   81788

Okay.

Should print "A PageReadonlyException exception has occured while in user mode"...

**********  A PageReadonlyException exception has occured while in user mode  **********

Offending process: "First Process" (PID 4)

  ProcessControlBlock   (addr=0x00029544)   pid=4, status=ACTIVE, parentsPid=1, exitStatus=0
        addr        entry          Logical    Physical   Undefined Bits  Dirty  Referenced  Writeable  Valid
     ==========   ==========     ==========  ==========  ==============  =====  ==========  =========  =====
     0x00029570:  0x00154005     0x00000000  0x00154000                            YES                  YES
     0x00029574:  0x00158001     0x00002000  0x00158000                                                 YES
     0x00029578:  0x0015C001     0x00004000  0x0015C000                                                 YES
     0x0002957C:  0x00160001     0x00006000  0x00160000                                                 YES
     0x00029580:  0x00164005     0x00008000  0x00164000                            YES                  YES
     0x00029584:  0x00168003     0x0000A000  0x00168000                                        YES      YES
     0x00029588:  0x0016C003     0x0000C000  0x0016C000                                        YES      YES
     0x0002958C:  0x00170003     0x0000E000  0x00170000                                        YES      YES
     0x00029590:  0x00174003     0x00010000  0x00174000                                        YES      YES
     0x00029594:  0x0017800F     0x00012000  0x00178000                   YES      YES         YES      YES
    myThread =   Thread "First Process"    status=RUNNING    (addr of Thread object: 0x0002C9C0)

  Thread "First Process"    (addr of Thread object: 0x0002C9C0)
    machine state:
      r2: 0x00000000   0
      r3: 0x00000000   0
      r4: 0x00000000   0
      r5: 0x00000000   0
      r6: 0x00000000   0
      r7: 0x00000000   0
      r8: 0x00000000   0
      r9: 0x00000000   0
      r10: 0x00000000   0
      r11: 0x00000000   0
      r12: 0x00000000   0
      r13: 0x00000000   0
      r14: 0x00000000   0
    stackTop = 0x0002D9B4
    stack starting addr = 0x0002CA1C
    status = RUNNING
    is user thread: TRUE
    user registers:
      r1: 0x00000000   0
      r2: 0x00000000   0
      r3: 0x00000000   0
      r4: 0x00000000   0
      r5: 0x00000004   4
      r6: 0x00000000   0
      r7: 0x00000000   0
      r8: 0x00000000   0
      r9: 0x00000000   0
      r10: 0x00004345   17221
      r11: 0x00000000   0
      r12: 0x00000000   0
      r13: 0x0000003A   58
      r14: 0x00013FA0   81824
      r15: 0x00013F7C   81788

Okay.

Done.

*****  A 'wait' instruction was executed and no more interrupts are scheduled... halting emulation!  *****

Done!  The next instruction to execute will be:
001138: 09000000       ret     
Number of Disk Reads    = 11
Number of Disk Writes   = 0
Instructions Executed   = 3717611
Time Spent Sleeping     = 11371
    Total Elapsed Time  = 3728982
bash-3.2$ make && blitz -g os
kpl Kernel -unsafe
asm Kernel.s
lddd Runtime.o Switch.o System.o List.o BitMap.o Kernel.o Main.o -o os
Beginning execution...
====================  KPL PROGRAM STARTING  ====================
Initializing Thread Scheduler...
Initializing Process Manager...
Initializing Thread Manager...
Initializing Frame Manager...
AllocateRandomFrames called.  NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512
Initializing Disk Driver...
Initializing File Manager...
Testing system calls Sys_GetPID and Sys_GetPPID

  The main thread will create a child thread and we verify
  that the correct PIDs are returned from the two sys calls

MAIN PID: 1
  CHILD PID: 2
  PARENT PID: 1

Correct? TRUE

FATAL ERROR in First Process: "Syscall 'Shutdown' was invoked by a user thread" -- TERMINATING!

(To find out where execution was when the problem arose, type 'st' at the emulator prompt.)

====================  KPL PROGRAM TERMINATION  ====================

****  A 'debug' instruction was encountered  *****
Done!  The next instruction to execute will be:
001078: C0100000       sethi   0x0000,r1	! 0x00001088 = 4232 (noGoMessage)

Entering machine-level debugger...
======================================================
=====                                            =====
=====         The BLITZ Machine Emulator         =====
=====                                            =====
=====  Copyright 2001-2007, Harry H. Porter III  =====
=====                                            =====
======================================================

Enter a command at the prompt.  Type 'quit' to exit or 'help' for
info about commands.
> q
Number of Disk Reads    = 8
Number of Disk Writes   = 0
Instructions Executed   = 3188342
Time Spent Sleeping     = 1056
    Total Elapsed Time  = 3189398
bash-3.2$ exit

Script done on Thu May 17 22:51:24 2012
